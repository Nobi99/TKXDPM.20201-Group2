[{"D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\index.js":"1","D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\reportWebVitals.js":"2","D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\App.js":"3","D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\component\\NavBar.js":"4","D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\page\\index.js":"5","D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\page\\TransactionResult.js":"6","D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\page\\HiringBike\\HiringBike.js":"7","D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\page\\Home\\Home.js":"8","D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\page\\ListBike\\ListBike.js":"9","D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\page\\ListStation\\ListStation.js":"10","D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\page\\HiringBike\\Timer.js":"11","D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\page\\HiringBike\\StationItem.js":"12","D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\component\\NotFound.js":"13","D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\api\\transaction.api.js":"14","D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\page\\HiringBike\\logic.js":"15","D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\hooks\\useLoader.js":"16","D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\api\\station.api.js":"17","D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\api\\bike.api.js":"18","D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\api\\local.api.js":"19","D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\page\\HiringBike\\Invoice.js":"20","D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\component\\BikeInfor.js":"21","D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\component\\DockingStation.js":"22","D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\image\\index.js":"23","D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\api\\environment.js":"24","D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\exceptions\\exceptions.js":"25","D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\component\\Loader.js":"26","D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\page\\Login.js":"27","D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\page\\Login1.js":"28"},{"size":545,"mtime":1608824292826,"results":"29","hashOfConfig":"30"},{"size":375,"mtime":1608824292831,"results":"31","hashOfConfig":"30"},{"size":890,"mtime":1609831724162,"results":"32","hashOfConfig":"30"},{"size":1318,"mtime":1608824292822,"results":"33","hashOfConfig":"30"},{"size":435,"mtime":1609830883397,"results":"34","hashOfConfig":"30"},{"size":2628,"mtime":1608858327006,"results":"35","hashOfConfig":"30"},{"size":9774,"mtime":1609727625385,"results":"36","hashOfConfig":"30"},{"size":1078,"mtime":1608824292828,"results":"37","hashOfConfig":"30"},{"size":2488,"mtime":1609722187424,"results":"38","hashOfConfig":"30"},{"size":1099,"mtime":1608824292829,"results":"39","hashOfConfig":"30"},{"size":827,"mtime":1608824292828,"results":"40","hashOfConfig":"30"},{"size":1309,"mtime":1608824292828,"results":"41","hashOfConfig":"30"},{"size":3636,"mtime":1608824292822,"results":"42","hashOfConfig":"30"},{"size":2646,"mtime":1608824292792,"results":"43","hashOfConfig":"30"},{"size":1004,"mtime":1608824292828,"results":"44","hashOfConfig":"30"},{"size":326,"mtime":1608824292826,"results":"45","hashOfConfig":"30"},{"size":2647,"mtime":1609728261278,"results":"46","hashOfConfig":"30"},{"size":2277,"mtime":1609718952535,"results":"47","hashOfConfig":"30"},{"size":1151,"mtime":1609726966556,"results":"48","hashOfConfig":"30"},{"size":1506,"mtime":1608824292827,"results":"49","hashOfConfig":"30"},{"size":1403,"mtime":1608824292821,"results":"50","hashOfConfig":"30"},{"size":1288,"mtime":1608824292821,"results":"51","hashOfConfig":"30"},{"size":925,"mtime":1608824292826,"results":"52","hashOfConfig":"30"},{"size":71,"mtime":1609234769030,"results":"53","hashOfConfig":"30"},{"size":349,"mtime":1608824292825,"results":"54","hashOfConfig":"30"},{"size":278,"mtime":1608824292821,"results":"55","hashOfConfig":"30"},{"size":4632,"mtime":1608824292830,"results":"56","hashOfConfig":"30"},{"size":5962,"mtime":1609839371008,"results":"57","hashOfConfig":"30"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},"1m9ukzc",{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"65","messages":"66","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"67","usedDeprecatedRules":"60"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"70","messages":"71","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"72","usedDeprecatedRules":"60"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"75","usedDeprecatedRules":"60"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"78","usedDeprecatedRules":"60"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"81","usedDeprecatedRules":"60"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"92","usedDeprecatedRules":"60"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"119","usedDeprecatedRules":"60"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\index.js",[],["122","123"],"D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\reportWebVitals.js",[],"D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\App.js",["124"],"D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\component\\NavBar.js",["125","126"],"/**\r\n * @author Chien Nobi\r\n */\r\n\r\n\r\nimport React from 'react'\r\nimport logo from '../assets/logo.jpg';\r\nimport { Link, Switch, Route } from 'react-router-dom';\r\n\r\nconst NavBar = () => {\r\n    return (\r\n        <div className=\"navbar flex items-center\">\r\n            <div className=\"navbar-left flex items-center\">\r\n                <img src={ logo } alt=\"logo\" className=\"bd-circle logo\" />\r\n                <Link to=\"/\">NobBike</Link>\r\n                <form>\r\n                    <input type=\"text\" name=\"search-value\" className=\"form-input\" placeholder=\"Search here\" />\r\n                </form>\r\n            </div>\r\n            <div className=\"navbar-right flex items-center\">\r\n                <div className=\"user-infor flex items-center\">\r\n                    <img src={ logo } alt=\"logo\" className=\"bd-circle user-infor__avt\" />\r\n                    <p className=\"user-infor__name\">Chiến Nobi</p>\r\n                </div>\r\n                <div className=\"navigation flex items-center\">\r\n                    <Link to=\"/docking\" className=\"nav-link\">Bãi xe</Link>\r\n                    <Link to=\"/docking\" className=\"nav-link\">Thuê xe</Link>\r\n                    <Link to=\"/\" className=\"nav-link\">Liên hệ</Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n\r\n    );\r\n}\r\n\r\nexport default NavBar;","D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\page\\index.js",[],"D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\page\\TransactionResult.js",["127"],"\r\nimport React, { useEffect } from 'react';\r\nimport NotFound from '../component/NotFound'\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport {\r\n    errorIcon\r\n} from '../image';\r\nconst TransactionResult = () => {\r\n\r\n\r\n    useEffect(() => {\r\n        return localStorage.removeItem('transactionResult');\r\n    })\r\n\r\n\r\n    var transaction = JSON.parse(localStorage.getItem('transactionResult'));\r\n    if (transaction !== null) {\r\n        return (\r\n            <div className=\"station-container\">\r\n                {/* {\r\n                        transaction.statusCode ? <Success /> : <Error />\r\n                    }\r\n                    <div className=\"return-home\">\r\n                        {\r\n                            transaction.statusCode ?\r\n                                <button className=\"btn-return btn\">Home</button>\r\n                                : <button className=\"btn-return btn\">Try again</button>\r\n                        }\r\n        \r\n                    </div> */}\r\n                <Success transaction={ transaction } />\r\n            </div>\r\n        )\r\n    }\r\n    else return <NotFound />;\r\n}\r\nconst Success = ({ transaction }) => {\r\n    console.log(transaction);\r\n    return (\r\n        <>\r\n            <div className=\"transaction-result\">\r\n                <p className=\"transaction-result-header\">\r\n                    Giao dịch thành công!!\r\n            </p>\r\n                <div className=\"transaction-result-body\">\r\n                    <div className=\"transaction-items\">\r\n                        <p><span>Tên khách hàng: </span>{ transaction.username }</p>\r\n                        <p><span>Tổng thời gian thuê: </span>{ transaction.hiringTime.h }h { transaction.hiringTime.m }p </p>\r\n                        <p><span>Tiền thuê xe: </span>{ transaction.fee.toLocaleString('en-US', { style: 'currency', currency: 'VND' }) }</p>\r\n                    </div>\r\n                    <p className=\"thank-sentence\">Cảm ơn quý khách đã sử dụng dịch vụ của NobBike.</p>\r\n                </div>\r\n            </div>\r\n            <Link to=\"/\" className=\"btn-return btn\">Home</Link>\r\n        </>\r\n    )\r\n}\r\n\r\nconst Error = () => {\r\n    return (\r\n        <div className=\"transaction-result error\">\r\n            <p className=\"transaction-result-header\">\r\n                Giao dịch thất bại...\r\n            </p>\r\n            <div className=\"transaction-result-body flex items-center\">\r\n                <img src={ errorIcon } alt=\"error\" />\r\n                <p>Tài khoản không đủ số dư</p>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\nexport default TransactionResult;","D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\page\\HiringBike\\HiringBike.js",["128","129","130","131"],"import React, { useEffect, useState, useCallback } from 'react';\r\nimport { getAvailableStation } from '../../api/station.api';\r\nimport { getBike } from '../../api/bike.api';\r\nimport { useParams } from 'react-router-dom';\r\nimport {\r\n    bikeImage\r\n} from \"../../image\";\r\n\r\nimport { payingCommand, resetBalance } from '../../api/transaction.api';\r\nimport { addTransaction, updateTransaction } from '../../api/local.api';\r\nimport { caculatorHiringFeeBike, caculatorHiringFeeEBike } from './logic';\r\nimport useLoader from '../../hooks/useLoader';\r\nimport Timer from './Timer';\r\nimport Invoice from './Invoice';\r\nimport StationItem from './StationItem';\r\n\r\n\r\nvar transactionInfor = {\r\n    username: \"Trần Thế Chiến\",\r\n    timeInterBankAPI: '',\r\n    createdAt: '',\r\n    endAt: '',\r\n    transactionId: 0,\r\n    interbankTransactionIdStart: '',\r\n    interbankTransactionIdEnd: '',\r\n    fee: 0,\r\n    bikeId: '',\r\n    stationId: '',\r\n    stationName: '',\r\n    hiringTime: {}\r\n}\r\nconst HiringBike = (props) => {\r\n    let { bikeId } = useParams();\r\n    transactionInfor.bikeId = bikeId;\r\n    const [isRented, setIsRented] = useState(false);\r\n    const [showDockingList, setShowDockingList] = useState(false);\r\n    const [bike, setBike] = useState();\r\n    const [time, setTime] = useState({ s: 0, m: 0, h: 0 });\r\n    const [stationList, setStationList] = useState([]);\r\n    const [interv, setInterv] = useState('');\r\n    let updateS = time.s, updateM = time.m, updateH = time.h;\r\n    const [isFinish, setIsFinish] = useState(false);\r\n    const [loader, showLoader, hideLoader] = useLoader();\r\n    useEffect(() => {\r\n        return () => clearInterval(interv);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        getBikeFromApi();\r\n        getAvailStationFromApi();\r\n    }, []);\r\n\r\n\r\n\r\n    /**\r\n     * Get bike what the user choose in previous step by calling the API\r\n     */\r\n    const getBikeFromApi = useCallback(async () => {\r\n        const queryResult = await getBike(bikeId);\r\n        setBike(queryResult);\r\n    }, [bikeId]);\r\n\r\n    /**\r\n     * Get all stations from API what have empty slots to return bike \r\n     */\r\n\r\n    const getAvailStationFromApi = useCallback(async () => {\r\n        const queryResult = await getAvailableStation();\r\n        setStationList(queryResult);\r\n    }, []);\r\n\r\n    /**\r\n     * Function to run time \r\n     */\r\n\r\n    const runTimer = () => {\r\n        let interval = setInterval(() => {\r\n            if (updateS === 60) {\r\n                updateM++;\r\n                updateS = 0;\r\n            }\r\n            if (updateM === 60) {\r\n                updateH++;\r\n                updateM = 0;\r\n            }\r\n            updateS++;\r\n            setTime({ s: updateS, m: updateM, h: updateH });\r\n        }, 1000);\r\n        return interval;\r\n    }\r\n\r\n    /**\r\n     * Paying the deposite and start the timer\r\n     */\r\n    const hiringBike = () => {\r\n        showLoader();\r\n        const timeNow = new Date();\r\n        transactionInfor.createdAt = Date.now();\r\n        transactionInfor.timeInterBankAPI = timeNow.toLocaleDateString('en-CA') + ' ' + timeNow.toLocaleTimeString('ja-JP');\r\n        let body = {\r\n            createdAt: transactionInfor.createdAt,\r\n            userId: 1,\r\n            bikeId: bikeId,\r\n            deposite: bike.bikeDeposit,\r\n        }\r\n        addTransaction(body).then((result) => {\r\n            if (result.status === \"OK\") {\r\n                transactionInfor.transactionId = result.data;\r\n                console.log(transactionInfor.transactionId);\r\n            }\r\n        }).then(async () => {\r\n            const kq = await getTransactionInfor(\"pay\", bike.bikeDeposit);\r\n            transactionInfor.interbankTransactionIdStart = kq;\r\n            hideLoader();\r\n            setIsRented(true);\r\n            setInterv(runTimer());\r\n        });\r\n    }\r\n\r\n    /**\r\n     * When user confirm invoice, function will run and process to return bike\r\n     */\r\n    const returnBike = () => {\r\n        // show loading icon\r\n        showLoader();\r\n        // caculating hiring time\r\n        const hiringTime = transactionInfor.endAt - transactionInfor.createdAt;\r\n        var bikeDeposit = bike.bikeDeposit;\r\n        // bike type == 10 ~ single bikecycle \r\n        if (bike.bikeType == 10) {\r\n            transactionInfor.fee = caculatorHiringFeeBike(hiringTime / 60000);\r\n        }\r\n        else transactionInfor.fee = caculatorHiringFeeEBike(hiringTime / 60000);\r\n\r\n        /**\r\n         * Determining call refund method or paying method\r\n         * After that if success -> update the transaction to db and redirect to the success page\r\n         */\r\n        if (transactionInfor.fee < bikeDeposit) {\r\n            getTransactionInfor(\"refund\", bikeDeposit - transactionInfor.fee).then((result) => {\r\n                transactionInfor.interbankTransactionIdEnd = result;\r\n                console.log(transactionInfor);\r\n            }).then(() => {\r\n                updateTransaction(transactionInfor).then(result => {\r\n                    console.log(\"Update done\");\r\n                }).then(() => {\r\n                    const localTransaction = JSON.stringify(transactionInfor);\r\n                    localStorage.setItem('transactionResult', localTransaction);\r\n                    hideLoader();\r\n                    window.location.href = \"/transaction\";\r\n                })\r\n            })\r\n        }\r\n        else {\r\n            getTransactionInfor(\"pay\", transactionInfor.fee - bikeDeposit).then((result) => {\r\n                transactionInfor.interbankTransactionIdEnd = result;\r\n                console.log(transactionInfor);\r\n            }).then(() => {\r\n                updateTransaction(transactionInfor)\r\n                    .then(console.log(\"update done\"))\r\n                    .then(() => {\r\n                        const localTransaction = JSON.stringify(transactionInfor);\r\n                        localStorage.setItem('transactionResult', localTransaction);\r\n                        hideLoader();\r\n                    });\r\n            })\r\n        }\r\n\r\n    }\r\n\r\n    /**\r\n     * Show Confirmation and get Station data to return bike\r\n     * @param {*} selectStaId \r\n     * @param {*} selectStaName \r\n     */\r\n    const getStationData = (selectStaId, selectStaName) => {\r\n        transactionInfor.stationName = selectStaName;\r\n        transactionInfor.stationId = selectStaId;\r\n        setIsFinish(true);\r\n    }\r\n\r\n    /**\r\n     * Show Station List to choose\r\n     */\r\n    const showStation = () => {\r\n        transactionInfor.endAt = Date.now();\r\n        transactionInfor.hiringTime = time;\r\n        console.log(time);\r\n        setShowDockingList(true);\r\n        clearInterval(interv);\r\n    }\r\n\r\n    /**\r\n     * Create Data and send Request to Interbank \r\n     * @param {String} command \"paying\" or \"refund\"\r\n     * @param {Number} amount \r\n     * @returns {Number} interbank transaction Id\r\n     */\r\n\r\n    const getTransactionInfor = async (command, amount) => {\r\n        try {\r\n            const requestResult = await payingCommand(command, amount, transactionInfor.timeInterBankAPI, \"paying for hiring bike\")\r\n            if (requestResult.data.errorCode === \"00\") {\r\n                console.log(\"Paying or refund successfully\");\r\n                return requestResult.data.transaction.transactionId;\r\n            }\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n\r\n    }\r\n\r\n\r\n    if (bike !== undefined) {\r\n        return (\r\n            <div className=\"station-container hiring-container\">\r\n                { loader }\r\n                <div className=\"top flex\">\r\n                    <div className=\"hiring-infor top-items\">\r\n                        <p>Thông tin chi tiết</p>\r\n                        <div className=\"flex infor-media\">\r\n                            <div className=\"text\">\r\n                                <p>Loại xe: { bike.name }</p>\r\n                                <p>Mã xe: { bike.bikeCode }</p>\r\n                                <p>Vị trí: { bike.position }</p>\r\n                                { bike.battery !== -1 ? <p>Pin còn lại: { bike.battery }%</p> : null }\r\n                                <p>Tiền đặt cọc: <b>{ bike.bikeDeposit.toLocaleString('en-US', { style: 'currency', currency: 'VND' }) }</b></p>\r\n                            </div>\r\n                            <div className=\"image\">\r\n                                <img src={ bikeImage } alt=\"bike\" />\r\n                            </div>\r\n\r\n                        </div>\r\n                        {\r\n                            !isRented ?\r\n                                <button className=\"btn confirm-btn\" onClick={ hiringBike }>Thuê xe</button>\r\n                                : null\r\n                        }\r\n                    </div>\r\n                    {\r\n                        isFinish ? <Invoice bike={ bike } transaction={ transactionInfor } returnBike={ returnBike } /> : null\r\n                    }\r\n                    <Timer isRented={ isRented } time={ time } returnBike={ showStation } />\r\n\r\n\r\n                </div>\r\n                {\r\n                    showDockingList ?\r\n                        <div className=\"bottom\">\r\n                            <div className=\"bottom-header\">Chọn bãi xe muốn trả</div>\r\n                            <div className=\"choose-station list-station flex\">\r\n                                { stationList.map((item) =>\r\n                                    <StationItem station={ item } key={ item.id } getStationData={ (selectStaId, selectStaName) => getStationData(selectStaId, selectStaName) } />\r\n                                ) }\r\n                            </div>\r\n                        </div> : null\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n    else return null;\r\n}\r\n\r\n\r\n\r\nexport default HiringBike;\r\n","D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\page\\Home\\Home.js",["132","133"],"import React, { useEffect, useState } from 'react';\r\nimport backgroundImg from '../../assets/background2.jpg';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nfunction Home() {\r\n    return (\r\n        <div className=\"home flex items-center\" style={ {\r\n            backgroundImage: `url(${backgroundImg})`,\r\n            backgroundSize: 'cover',\r\n            backgroundRepeat: 'no-repeat',\r\n            backgroundPosition: 'center'\r\n        } }>\r\n            <div className=\"home-right\">\r\n                <h2>EcoBikeRental</h2>\r\n                <div className=\"infor\">\r\n                    <p>Thuê xe dễ dàng với QR code.</p>\r\n                    <p>Thanh toán tiện lợi.</p>\r\n                    <p>Trả xe bất kì lúc nào.</p>\r\n                    <p>Miễn phí trải nghiệm 10p đầu.</p>\r\n                </div>\r\n                <Link to=\"/docking\" className=\"btn rent-bike\">Thuê xe ngay</Link>\r\n            </div>\r\n            <div className=\"home-left\" style={ {\r\n\r\n            } }>\r\n\r\n            </div>\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default Home;","D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\page\\ListBike\\ListBike.js",["134"],"import React, { useState, useEffect } from 'react';\r\nimport BikeInfor from '../../component/BikeInfor';\r\nimport { useParams } from 'react-router-dom';\r\nimport {\r\n    addressIcon,\r\n    distanceIcon,\r\n    emptySlotIcon,\r\n    bikeIcon,\r\n    areaIcon\r\n} from \"../../image\";\r\n\r\nimport { getAllBike } from '../../api/bike.api';\r\nimport { getStationById } from '../../api/station.api';\r\n\r\nconst ListBike = () => {\r\n\r\n    let { id } = useParams();\r\n    const [listBike, setListBike] = useState([]);\r\n    const [station, setStation] = useState('');\r\n\r\n    useEffect(() => {\r\n        getStationFromApi();\r\n        getBikeFromApi();\r\n    }, []);\r\n\r\n\r\n\r\n    const getBikeFromApi = async () => {\r\n        let queryResult = await getAllBike(id);\r\n        setListBike(queryResult);\r\n    }\r\n\r\n    const getStationFromApi = async () => {\r\n        let queryResult = await getStationById(id);\r\n        setStation(queryResult);\r\n    }\r\n\r\n    return (\r\n        <div className=\"station-container\">\r\n            <div className=\"station-header station-infor\">\r\n                <p>{ station.name }</p>\r\n                <div className=\"flex items-center station-infor-items\">\r\n                    <div className=\"item-attr address\">\r\n                        <img src={ addressIcon } alt=\"address icon\" />\r\n                        <p>{ station.address } </p>\r\n                    </div>\r\n                    <div className=\"item-attr\">\r\n                        <img src={ distanceIcon } alt=\"distance icon\" />\r\n                        <p>{ station.distance } m </p>\r\n                    </div>\r\n                    <div className=\"item-attr\">\r\n                        <img src={ areaIcon } alt=\"area icon\" />\r\n                        <p>{ station.area } m<sup>2</sup> </p>\r\n                    </div>\r\n                    <div className=\"item-attr\">\r\n                        <img src={ bikeIcon } alt=\"bike icon\" />\r\n                        <p>{ station.bikeNumber } </p>\r\n                    </div>\r\n                    <div className=\"item-attr\">\r\n                        <img src={ emptySlotIcon } alt=\"empty icon\" />\r\n                        <p>{ station.emptySlot } </p>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n            <div className=\"list-station flex list-bike\">\r\n                { listBike.map((item) =>\r\n                    <BikeInfor bike={ item } key={ item.position } />\r\n                ) }\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nexport default ListBike;","D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\page\\ListStation\\ListStation.js",[],"D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\page\\HiringBike\\Timer.js",[],"D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\page\\HiringBike\\StationItem.js",[],"D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\component\\NotFound.js",[],"D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\api\\transaction.api.js",["135"],"import axios from \"axios\";\r\nimport crypto from \"crypto\";\r\nimport { interbankException } from \"../exceptions/exceptions\";\r\n\r\nlet card = {\r\n    cardCode: \"118609_group2_2020\",\r\n    owner: \"Group 2\",\r\n    cvvCode: 546,\r\n    dateExpired: 1125,\r\n}\r\n\r\nlet baseUrl = 'https://ecopark-system-api.herokuapp.com';\r\n\r\nlet makeTransaction = (command, amount, createdAt, content) => {\r\n    const transaction = {\r\n        command: `${command}`,\r\n        cardCode: \"118609_group2_2020\",\r\n        owner: \"Group 2\",\r\n        cvvCode: 546,\r\n        dateExpired: 1125,\r\n        transactionContent: content,\r\n        amount: amount,\r\n        createdAt: createdAt // time\r\n    }\r\n    console.log(transaction);\r\n    return transaction;\r\n\r\n\r\n}\r\n\r\nconst makeHashCode = (transaction) => {\r\n    const hashObject = {\r\n        secretKey: 'B0F8jDFXayo=',\r\n        transaction: transaction\r\n    }\r\n    let transactionJson = JSON.stringify(hashObject);\r\n    const hashCode = crypto.createHash('md5').update(transactionJson).digest('hex');\r\n    console.log(hashObject);\r\n    return hashCode;\r\n}\r\n/**\r\n * \r\n * @param {*} command \r\n * @param {*} amount \r\n * @param {*} content \r\n * @returns result from interbank api\r\n */\r\n\r\nconst payingCommand = async (command, amount, createdAt, content) => {\r\n    const transaction = makeTransaction(command, amount, createdAt, content);\r\n    const body = {\r\n        version: \"1.0.1\",\r\n        transaction: transaction,\r\n        appCode: 'pdUeA3+12w==',\r\n        hashCode: makeHashCode(transaction)\r\n    }\r\n    const result = await axios.patch(`${baseUrl}/api/card/processTransaction`, body);\r\n    switch (result.data.errorCode) {\r\n        case '01': throw new interbankException(\"\");\r\n        case '02': throw new interbankException(\"\");\r\n        case '03': throw new interbankException(\"\");\r\n        case '04': throw new interbankException(\"\");\r\n        case '05': throw new interbankException(\"\");\r\n\r\n        default:\r\n    }\r\n    return result;\r\n}\r\n\r\nconst resetBalance = async () => {\r\n    let resetBalanceBody = {\r\n        cardCode: \"118609_group2_2020\",\r\n        owner: \"Group 2\",\r\n        cvvCode: 546,\r\n        dateExpired: 1125\r\n    };\r\n    const result = await axios.patch(`${baseUrl}/api/card/reset-balance`, resetBalanceBody);\r\n    console.log(result);\r\n}\r\n\r\n// const transaction = {\r\n//     transactionId: 1,\r\n//     userName: \"Chiến Nobi\",\r\n//     startTime: 151416,\r\n//     endTime: 141414,\r\n//     bikeId: 1,\r\n//     name: \"Xe đạp đơn\",\r\n//     bikeCode: \"C1N001\",\r\n//     hiringFee: 45000,\r\n//     statusCode: 0, // \r\n//     message: \"Giao dịch thành công\"\r\n// }\r\n\r\nexport {\r\n    resetBalance,\r\n    payingCommand\r\n}","D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\page\\HiringBike\\logic.js",[],"D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\hooks\\useLoader.js",[],"D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\api\\station.api.js",[],"D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\api\\bike.api.js",[],"D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\api\\local.api.js",[],"D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\page\\HiringBike\\Invoice.js",[],"D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\component\\BikeInfor.js",[],"D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\component\\DockingStation.js",[],"D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\image\\index.js",[],"D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\api\\environment.js",[],"D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\exceptions\\exceptions.js",[],"D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\component\\Loader.js",[],"D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\page\\Login.js",["136"],"import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Formik, Field, Form, ErrorMessage } from 'formik';\r\nimport * as Yup from 'yup';\r\n\r\n// import { accountService, alertService } from '../../services';\r\n\r\nfunction Login() {\r\n    const [passwordType, setPasswordType] = useState(\"password\");\r\n    const changePasswordType = () => {\r\n        if (passwordType === 'password') {\r\n            setPasswordType('text');\r\n        }\r\n        else setPasswordType('password');\r\n    }\r\n\r\n\r\n\r\n    const initialValues = {\r\n        email: '',\r\n        password: ''\r\n    };\r\n\r\n    const validationSchema = Yup.object().shape({\r\n        email: Yup.string()\r\n            .email('Email is invalid')\r\n            .required('Email is required'),\r\n        password: Yup.string()\r\n            .required('Password is required')\r\n    });\r\n\r\n    // function onSubmit({ email, password }, { setSubmitting }) {\r\n    //     let body = {\r\n    //         username: email,\r\n    //         password: password\r\n    //     }\r\n    //     accountService.login(body)\r\n    //         .then(() => {\r\n    //             const { from } = location.state || { from: { pathname: \"/\" } };\r\n    //             history.push(from);\r\n    //         })\r\n    //         .catch(error => {\r\n    //             setSubmitting(false);\r\n    //             alertService.error(error);\r\n    //         });\r\n    // }\r\n\r\n    return (\r\n        <Formik initialValues={ initialValues } validationSchema={ validationSchema }>\r\n            {({ errors, touched, isSubmitting, values }) => (\r\n                <Form className=\"form-container\">\r\n                    <div className=\"login__form\">\r\n                        <p className=\"login-header\">Đăng nhập</p>\r\n                        <div className=\"ps-rl input-swapper\" style={ { marginBottom: 50 } }>\r\n                            <span className=\"icon--user input__icon\">\r\n                                <i className=\"far fa-user\"></i>\r\n                            </span>\r\n                            <Field\r\n                                type=\"email\"\r\n                                className={ \"form__input\" + (!values.email ? \"\" : \" has-value\") + (errors.email && touched.email ? ' is-invalid' : '') }\r\n                                name=\"email\"\r\n                            />\r\n                            <span className=\"input__focus\" data-name=\"Email\"></span>\r\n                            <ErrorMessage name=\"email\" component=\"div\" className=\"invalid-feedback err\" />\r\n                        </div>\r\n                        <div className=\"ps-rl input-swapper\">\r\n                            <span className=\"icon--password input__icon\">\r\n                                <i className=\"fas fa-lock\"></i>\r\n                            </span>\r\n                            <Field\r\n                                type={ passwordType }\r\n                                className={ \"form__input is-invalid\" + (!values.password ? \"\" : \" has-value\") + (errors.password && touched.password ? ' is-invalid' : '') }\r\n                                name=\"password\"\r\n                            />\r\n                            <span className=\"input__focus\" data-name=\"Password\"></span>\r\n                            <span className=\"toggle-password\" onClick={ changePasswordType }>\r\n                                { passwordType === \"text\" ? <i className=\"fas fa-eye\"></i> : <i className=\"fas fa-eye-slash\"></i> }\r\n                            </span>\r\n                            <ErrorMessage name=\"password\" component=\"div\" className=\"invalid-feedback err\" />\r\n                        </div>\r\n                        <div className=\"text-right\">\r\n                            {/* <Link to=\"forgot-password\" className=\"btn btn-link pr-0\">Quên mật khẩu?</Link> */ }\r\n                        </div>\r\n                        <button type=\"submit\" disabled={ isSubmitting } className=\"btn btn-success\">\r\n                            { isSubmitting && <span className=\"spinner-border spinner-border-sm mr-1\"></span> }\r\n                            Login\r\n                        </button>\r\n                        <div className=\"register\">\r\n                            <div className=\"divider\"></div>\r\n                            <p>Bạn chưa có tài khoản</p>\r\n                            <div className=\"divider\"></div>\r\n                        </div>\r\n\r\n                        {/* <Link to=\"register\" className=\"btn btn-info btn--register\">Đăng ký ngay</Link> */ }\r\n                    </div>\r\n                </Form>\r\n            ) }\r\n        </Formik>\r\n    )\r\n}\r\n\r\nexport default Login; ","D:\\TKXDPM.20201-2\\Final Project\\Construction\\Mã nguồn\\frontend\\src\\page\\Login1.js",["137","138","139"],{"ruleId":"140","replacedBy":"141"},{"ruleId":"142","replacedBy":"143"},{"ruleId":"144","severity":1,"message":"145","line":13,"column":3,"nodeType":"146","messageId":"147","endLine":13,"endColumn":8},{"ruleId":"144","severity":1,"message":"148","line":8,"column":16,"nodeType":"146","messageId":"147","endLine":8,"endColumn":22},{"ruleId":"144","severity":1,"message":"149","line":8,"column":24,"nodeType":"146","messageId":"147","endLine":8,"endColumn":29},{"ruleId":"144","severity":1,"message":"150","line":60,"column":7,"nodeType":"146","messageId":"147","endLine":60,"endColumn":12},{"ruleId":"144","severity":1,"message":"151","line":9,"column":25,"nodeType":"146","messageId":"147","endLine":9,"endColumn":37},{"ruleId":"152","severity":1,"message":"153","line":46,"column":8,"nodeType":"154","endLine":46,"endColumn":10,"suggestions":"155"},{"ruleId":"152","severity":1,"message":"156","line":51,"column":8,"nodeType":"154","endLine":51,"endColumn":10,"suggestions":"157"},{"ruleId":"158","severity":1,"message":"159","line":130,"column":27,"nodeType":"160","messageId":"161","endLine":130,"endColumn":29},{"ruleId":"144","severity":1,"message":"162","line":1,"column":17,"nodeType":"146","messageId":"147","endLine":1,"endColumn":26},{"ruleId":"144","severity":1,"message":"163","line":1,"column":28,"nodeType":"146","messageId":"147","endLine":1,"endColumn":36},{"ruleId":"152","severity":1,"message":"164","line":24,"column":8,"nodeType":"154","endLine":24,"endColumn":10,"suggestions":"165"},{"ruleId":"144","severity":1,"message":"166","line":5,"column":5,"nodeType":"146","messageId":"147","endLine":5,"endColumn":9},{"ruleId":"144","severity":1,"message":"167","line":2,"column":10,"nodeType":"146","messageId":"147","endLine":2,"endColumn":14},{"ruleId":"144","severity":1,"message":"163","line":1,"column":17,"nodeType":"146","messageId":"147","endLine":1,"endColumn":25},{"ruleId":"144","severity":1,"message":"167","line":2,"column":10,"nodeType":"146","messageId":"147","endLine":2,"endColumn":14},{"ruleId":"144","severity":1,"message":"168","line":30,"column":13,"nodeType":"146","messageId":"147","endLine":30,"endColumn":17},"no-native-reassign",["169"],"no-negated-in-lhs",["170"],"no-unused-vars","'Login' is defined but never used.","Identifier","unusedVar","'Switch' is defined but never used.","'Route' is defined but never used.","'Error' is assigned a value but never used.","'resetBalance' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'interv'. Either include it or remove the dependency array.","ArrayExpression",["171"],"React Hook useEffect has missing dependencies: 'getAvailStationFromApi' and 'getBikeFromApi'. Either include them or remove the dependency array.",["172"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'useEffect' is defined but never used.","'useState' is defined but never used.","React Hook useEffect has missing dependencies: 'getBikeFromApi' and 'getStationFromApi'. Either include them or remove the dependency array.",["173"],"'card' is assigned a value but never used.","'Link' is defined but never used.","'body' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"174","fix":"175"},{"desc":"176","fix":"177"},{"desc":"178","fix":"179"},"Update the dependencies array to be: [interv]",{"range":"180","text":"181"},"Update the dependencies array to be: [getAvailStationFromApi, getBikeFromApi]",{"range":"182","text":"183"},"Update the dependencies array to be: [getBikeFromApi, getStationFromApi]",{"range":"184","text":"185"},[1654,1656],"[interv]",[1754,1756],"[getAvailStationFromApi, getBikeFromApi]",[630,632],"[getBikeFromApi, getStationFromApi]"]